# PQC Chat - Test Results Directory

This directory contains all Kyber performance test results organized by test type and timestamp.

## Directory Structure

```
results/
├── README.md                     # This file
├── kyber_demo_YYYYMMDD_HHMMSS/  # Demo script results
├── kyber_test_YYYYMMDD_HHMMSS/  # Bash test script results  
├── kyber_performance_report.json # Python performance logger results
└── [custom test results]        # User-defined test outputs
```

## Test Types

### Demo Tests (`kyber_demo_*`)
Generated by: `./scripts/demo_kyber_testing.sh`

Contains:
- `test1_single_connection.log` - Single connection timing
- `test2_statistical_analysis.log` - Multi-connection statistics  
- `test3_json_data.json` - Raw JSON timing data
- `summary.txt` - Key performance metrics
- `server_logs.txt` - Server-side logs
- `system_info.txt` - System configuration
- `README.md` - Detailed explanation of results

### Bash Script Tests (`kyber_test_*`)
Generated by: `./scripts/kyber_test.sh`

Contains:
- `client_*_*.log` - Individual client connection logs
- `timing_*_*.txt` - Connection timing measurements
- `server_analysis_*.txt` - Server log analysis
- `kyber_summary_*.txt` - Overall performance summary

### Performance Logger Results
Generated by: `./scripts/kyber_performance_logger.py`

Contains:
- `kyber_performance_report.json` - Comprehensive system monitoring data
- `*_readable.txt` - Human-readable analysis reports

## Quick Analysis

### View Latest Demo Results
```bash
# Find most recent demo
latest_demo=$(ls -1d results/kyber_demo_* 2>/dev/null | tail -1)
if [[ -n "$latest_demo" ]]; then
    echo "Latest demo results in: $latest_demo"
    cat "$latest_demo/summary.txt"
else
    echo "No demo results found"
fi
```

### View Latest JSON Data
```bash
# Find most recent JSON data
latest_json=$(find results/ -name "test3_json_data.json" -o -name "*report.json" | head -1)
if [[ -n "$latest_json" ]]; then
    python3 -c "
import json
with open('$latest_json') as f:
    data = json.load(f)
if 'summary' in data:
    print(f'Avg Kyber Exchange: {data[\"summary\"][\"avg_kyber_exchange_ms\"]}ms')
    print(f'Success Rate: {data[\"success_rate\"]}%')
"
fi
```

### Export Data to CSV
```bash
# Convert JSON to CSV for spreadsheet analysis
python3 -c "
import json, csv, glob
for json_file in glob.glob('results/*/test3_json_data.json'):
    with open(json_file) as f:
        data = json.load(f)
    csv_file = json_file.replace('.json', '.csv')
    with open(csv_file, 'w', newline='') as csvfile:
        writer = csv.DictWriter(csvfile, fieldnames=['attempt_number', 'total_duration_ms', 'kyber_keygen_duration_ms', 'kyber_exchange_duration_ms', 'success'])
        writer.writeheader()
        writer.writerows(data['metrics'])
    print(f'Exported: {csv_file}')
"
```

## Archive Management

### Clean Old Results (keep last 10)
```bash
# Remove old demo results (keep newest 10)
ls -1d results/kyber_demo_* 2>/dev/null | head -n -10 | xargs rm -rf

# Remove old test results (keep newest 10)  
ls -1d results/kyber_test_* 2>/dev/null | head -n -10 | xargs rm -rf
```

### Backup Results
```bash
# Create timestamped backup
tar -czf "kyber_results_backup_$(date +%Y%m%d).tar.gz" results/
```

## Integration with Research

All results are saved in formats suitable for:
- **Academic papers**: Statistical analysis from JSON data
- **Performance benchmarks**: Timing comparisons across tests
- **System optimization**: Resource usage patterns
- **Security analysis**: Success rates and failure patterns

The consistent directory structure makes it easy to:
- Compare results across different test runs
- Track performance changes over time
- Generate comprehensive reports
- Archive and share test data